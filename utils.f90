!******************************************************************************
        module constants
!******************************************************************************

  real, parameter :: PI = 3.141592
  real, parameter :: PREC = 1e-5

end module constants
!******************************************************************************


!******************************************************************************
        module timer
!******************************************************************************
  save

  integer :: clockrate
  integer :: tstart, tend

  real :: time

contains
!******************************************************************************
!------------------------------------------------------------------------------
  subroutine start_timer()
!------------------------------------------------------------------------------   
    call system_clock(count_rate=clockrate)
    call system_clock(tstart)
  
  end subroutine start_timer

!------------------------------------------------------------------------------
  subroutine update_timer()
!------------------------------------------------------------------------------    
    call system_clock(tend)

    time = (tend - tstart) / float(clockrate)

  end subroutine update_timer

end module timer
!******************************************************************************


!******************************************************************************
        module files
!******************************************************************************

contains
!******************************************************************************

!------------------------------------------------------------------------------  
  subroutine get_matrix_size(m,n)
!------------------------------------------------------------------------------
    implicit none
  
    integer, intent(out) :: m,n
!------------------------------------------------------------------------------  
    open(unit=99, file='A.dat', status='old', action='read')
  
    read(99, *) m, n

    close(99)
!------------------------------------------------------------------------------
  end subroutine get_matrix_size
!------------------------------------------------------------------------------

!------------------------------------------------------------------------------
  subroutine load_matrix(A)
!------------------------------------------------------------------------------ 
    implicit none

    real, dimension(:,:), intent(out) :: A
    integer :: m, n, i 
!------------------------------------------------------------------------------
    open(unit=99, file='A.dat', status='old', action='read')
    read(99, *) m, n

    do i = 1, m
      read(99, *) A(i,:)
    end do

    close(99)
!------------------------------------------------------------------------------
  end subroutine load_matrix
!------------------------------------------------------------------------------


!------------------------------------------------------------------------------
  subroutine load_vector(v)
!------------------------------------------------------------------------------
    implicit none

    real, dimension(:), intent(out) :: v
    integer :: s
!------------------------------------------------------------------------------
    open(unit=99, file='b.dat', status='old', action='read')
    read(99, *) s

    read(99, *) v

    close(99)
!------------------------------------------------------------------------------
  end subroutine load_vector
!------------------------------------------------------------------------------
end module files
!******************************************************************************
